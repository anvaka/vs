(function(){"use strict";var t={1161:function(t,e,i){var n=i(9242),o=i(3396),r=i(7139);const s={id:"app"},a={key:0,class:"help"},u={key:1,class:"help"},h={class:"about-line"},c=(0,o._)("a",{class:"bold",href:"http://github.com/anvaka/vs"},"source code",-1),l={key:3,class:"welcome"},d=(0,o._)("h3",null,"Welcome!",-1),p=(0,o._)("a",{class:"highlight",href:"?query=iphone"},"try demo",-1);function f(t,e,i,f,g,m){const y=(0,o.up)("query-input"),w=(0,o.up)("about");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("form",{onSubmit:e[3]||(e[3]=(0,n.iM)(((...t)=>m.onSubmit&&m.onSubmit(...t)),["prevent"])),class:"search-box"},[(0,o._)("span",{onClick:e[0]||(e[0]=(0,n.iM)(((...t)=>m.forwardFocus&&m.forwardFocus(...t)),["prevent"]))},"Graph for"),(0,o.Wm)(y,{class:"query-input",placeholder:"Enter query",modelValue:g.appState.query,"onUpdate:modelValue":e[1]||(e[1]=t=>g.appState.query=t),pattern:g.appState.pattern,ref:"queryInput"},null,8,["modelValue","pattern"]),g.appState.query?((0,o.wg)(),(0,o.iD)("a",{key:0,type:"submit",class:"search-submit",href:"#",onClick:e[2]||(e[2]=(0,n.iM)(((...t)=>m.onSubmit&&m.onSubmit(...t)),["prevent"]))},"Go")):(0,o.kq)("",!0)],32),m.isLoading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",a,[(0,o.Uk)(" The graph was made from Google's auto-complete. "),(0,o._)("a",{href:"#",onClick:e[4]||(e[4]=(0,n.iM)((t=>g.aboutVisible=!0),["prevent"])),class:"highlight"},"Learn more.")])),m.isLoading?((0,o.wg)(),(0,o.iD)("div",u,(0,r.zw)(g.appState.progress.message),1)):(0,o.kq)("",!0),(0,o._)("div",h,[(0,o._)("a",{class:"about-link",href:"#",onClick:e[5]||(e[5]=(0,n.iM)((t=>g.aboutVisible=!0),["prevent"]))},"about"),c]),g.aboutVisible?((0,o.wg)(),(0,o.j4)(w,{key:2,onClose:e[6]||(e[6]=t=>g.aboutVisible=!1)})):(0,o.kq)("",!0),g.appState.hasGraph?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",l,[d,(0,o._)("p",null,[(0,o.Uk)("This website renders graph of Google's auto-complete. "),(0,o._)("a",{class:"highlight",href:"#",onClick:e[7]||(e[7]=(0,n.iM)((t=>g.aboutVisible=!0),["prevent"]))},"Click here"),(0,o.Uk)(" to learn more, or "),p,(0,o.Uk)(". ")])])),(0,o._)("div",{class:"tooltip",ref:"tooltip"},(0,r.zw)(g.tooltip.text),513)])}i(7658);let g=0;function m(t){let e,i,n=null;const o="callback"+g++;window[o]=u;let r=new Promise(s);return r.cancel=a,r;function s(e,r){i=e,n=document.createElement("script"),n.src=`${t}&callback=${o}`,n.onerror=r,document.head.appendChild(n)}function a(){e=!0}function u(t){e||i(t),h()}function h(){n&&(document.head.removeChild(n),n=null),delete window[o]}}const y=i(1610)({});var w=y;function x(t,e,n,o){if(t=t&&t.trim(),!t)return;t=t.toLocaleLowerCase();const r=e.indexOf("...");if(r<0)throw new Error('Query pattern is missing "..."');const s=e.indexOf("[query]");if(s<0)throw new Error('Query pattern is missing "[query]" keyword');if(r<s)throw new Error("[query] should come before ...");let a,u=!1,h=i(4747)();h.maxDepth=n;let c=[],l=300+100*Math.random();return o.startDownload(),p(),{dispose:d,graph:h};function d(){u=!0,a&&(a.cancel(),a=null)}function p(){h.addNode(t,{depth:0}),y(t)}function f(t,e){let i=v(t).toLocaleLowerCase();var o=h.getNode(t);if(!o)throw new Error("Parent is missing for "+t);e.filter((t=>0===t.toLocaleLowerCase().indexOf(i))).map((t=>t.substring(i.length))).forEach((e=>{const i=h.hasNode(e),r=h.getLink(e,t)||h.getLink(t,e);if(i)return void(r||h.addLink(t,e));let s=o.data.depth+1;h.addNode(e,{depth:s}),h.addLink(t,e),s<n&&c.push(e)})),setTimeout(g,l)}function g(){if(u)return;if(0===c.length)return void w.fire("graph-ready",h);let t=c.shift();y(t),o.updateLayout(c.length,t)}function y(t){a=b(v(t)),a.then((e=>x(e,t))).catch((e=>{const i="Failed to download "+t+"; Message: "+e;console.error(i),o.downloadError(i),g()}))}function x(t,e){if(!(t.length>=2))throw console.error(t),new Error("Unexpected response");f(e,t[1])}function v(t){return e.replace("[query]",t).replace("...","")}function b(t){return m("https://suggestqueries.google.com/complete/search?client=firefox&q="+encodeURIComponent(t))}}class v{constructor(){this.message="",this.phase="none",this.download={errors:[],remaining:0,currentWord:""},this.layout={iteration:0},this.working=!0}startDownload(){this.phase="download"}startLayout(){this.message="Finished download. Constructing layout...",this.phase="layout"}setLayoutCompletion(t){"layout"===this.phase&&(this.message=`Finished download. Constructing layout ${t}%...`)}updateLayout(t,e){this.download.currentWord=e,this.download.remaining=t,this.message=`Remaining: ${t}. Downloading ${e}`}done(){this.working=!1}downloadError(t){this.download.errors.push(t)}reset(){this.phase="none",this.download.errors=[],this.download.remaining=0,this.download.currentWord="",this.layout.iteration=0,this.message="",this.working=!0}}var b=i(4870);const k=i(3899),q=k({query:""},{useSearch:!0});let L;const M=q.get(),E=(0,b.qj)({hasGraph:!1,maxDepth:M.maxDepth||2,progress:new v,graph:null,query:M.query,pattern:M.pattern||"[query] vs ..."});function N(t){E.query=t.query}function C(t){return E.hasGraph=!0,E.progress.reset(),q.set("query",t),L&&L.dispose(),L=x(t,E.pattern,E.maxDepth,E.progress),E.graph=Object.freeze(L.graph),L.graph}function P(t,e){return E.pattern.replace("[query]",t).replace("...",e)}function D(){return E}E.query&&C(E.query),q.onChange(N);var S=i(2617),I=i.n(S),$="http://www.w3.org/2000/svg",F="http://www.w3.org/XML/1998/namespace";function _(t,e){e=e||{},"useFastTextMeasure"in e||(e.useFastTextMeasure=!1);var i={},n=Object.create(null),o="abcdefghijklmnopqrstuvwxyz",r={},s={1:.4951923076923077,.875:.43509615384615385,.833:.41346153846153844,.75:.3701923076923077,.5:.24459134615384615};return a;function a(a,u){u<1&&(u=Math.round(1e3*u)/1e3);var h=a+u,c=i[h];if(c)return c;var l={};i[h]=l;var d=window.document.createElementNS($,"text");return d.setAttributeNS(null,"font-size",u),d.setAttributeNS(F,"xml:space","preserve"),t.appendChild(d),l.words=a.split(/\s/).map(g),l.spaceWidth=f(),l.totalWidth=p(l.words,l.spaceWidth),t.removeChild(d),l;function p(t,e){var i=0;return t.forEach((function(t){i+=t.width})),i+=(t.length-1)*e,i}function f(){var t="space"+u,e=r[t];return e||(d.textContent=" ",e=z(d),r[t]=e),e}function g(t){return{text:t,width:m(t)}}function m(t){return e.useFastTextMeasure?w(t):y(t)}function y(t){var e=t+u,i=n[e];if(void 0===i){if(d.textContent=t,i=z(d),0===i&&t.length>0){var o=s[u];if(void 0===o)throw new Error("Font size is not overriden for safari "+u);i=o*t.length}n[e]=i}return i}function w(t){var e=r[u];if(!e){d.textContent=o;var i=z(d);e=i/o.length,0===e&&(e=s[u]),r[u]=e}return e*t.length}}}function z(t){var e=t.getBBox();return e.width}class T{constructor(t,e){this.x=t,this.y=e}static sub(t,e){return new T(t.x-e.x,t.y-e.y)}static dist(t,e){let i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)}normalize(){let t=Math.sqrt(this.x*this.x+this.y*this.y);0===t&&(t=1e-4),this.x/=t,this.y/=t}mag(){return Math.sqrt(this.x*this.x+this.y*this.y)}add(t){this.x+=t.x,this.y+=t.y}sub(t){this.x-=t.x,this.y-=t.y}div(t){this.x/=t,this.y/=t}mult(t){this.x*=t,this.y*=t}limit(t){let e=this.mag();e>t&&(this.x*=t/e,this.y*=t/e)}distanceTo(t){let e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)}}var O=i(1857)(45);class R{constructor(t){this.graph=t,this.boids=new Map,this.neighbors=[]}run(){let t=this.boids;t.forEach(((e,i)=>{let n=[];this.graph.forEachLinkedNode(i,(function(e){let i=t.get(e.id);i&&n.push(i)})),e.run(n)}))}addBoid(t,e){this.boids.set(t,e),this.neighbors.push(e)}setDesiredBoidPosition(t,e){const i=this.boids.get(t);i&&i.setDesiredPosition(e.x,e.y)}}class V{constructor(t,e){this.acceleration=new T(0,0);let i=2*O.nextDouble()*Math.PI;this.velocity=new T(Math.cos(i),Math.sin(i)),this.position=new T(t,e),this.desiredPosition=new T(0,0),this.r=400,this.maxspeed=3,this.maxforce=.08}run(t){this.flock(t),this.update()}applyForce(t,e){t.div(e),this.acceleration.add(t)}setDesiredPosition(t,e){this.desiredPosition.x=t,this.desiredPosition.y=e}flock(t){let e=this.separate(t),i=this.align(t),n=this.cohesion(t);const o=t.length||1;this.applyForce(e,o),this.applyForce(i,o),this.applyForce(n,o);const r=T.sub(this.desiredPosition,this.position);r.limit(.091),this.applyForce(r,o)}update(){this.velocity.add(this.acceleration),this.velocity.limit(this.maxspeed),this.position.add(this.velocity),this.acceleration.mult(0)}seek(t){const e=T.sub(t,this.position);e.normalize(),e.mult(this.maxspeed);let i=T.sub(e,this.velocity);return i.limit(1*this.maxforce),i}separate(t){const e=40,i=new T(0,0,0);let n=0;return t.forEach((t=>{let o=this.position.distanceTo(t.position);if(o>0&&o<e){let e=T.sub(this.position,t.position);e.normalize(),e.div(o),i.add(e),n++}})),n>0&&i.div(n),i.mag()>0&&(i.normalize(),i.mult(this.maxspeed),i.sub(this.velocity),i.limit(this.maxforce)),i}align(t){const e=300,i=new T(0,0);let n=0;if(t.forEach((t=>{let o=T.dist(this.position,t.position);o>0&&o<e&&(i.add(t.velocity),n++)})),n>0){i.div(n),i.normalize(),i.mult(this.maxspeed);let t=T.sub(i,this.velocity);return t.limit(this.maxforce),t}return new T(0,0)}cohesion(t){const e=300;let i=new T(0,0),n=0;return t.forEach((t=>{let o=T.dist(this.position,t.position);o>0&&o<e&&(i.add(t.position),n++)})),n>0?(i.div(n),this.seek(i)):new T(0,0)}}let G=i(1857);function A(t){let e=new Map,i=G(42);const n=new R(t);return{addNode:o,getNodePosition:r,setDesiredNodePosition:a,step:s};function o(t){const o={x:1e3*(i.nextDouble()-.5),y:1e3*(i.nextDouble()-.5)},r=new V(o.x,o.y);return n.addBoid(t,r),e.set(t,r),r}function r(t){let i=e.get(t);return i||(i=o(t)),i.position}function s(){n.run()}function a(t,e){n.setDesiredBoidPosition(t,e)}}function W(t,e,i=100){let n=0,o=0;return{step:r,getNodePosition:a,done:s};function r(){o+=1}function s(){return o>i}function a(r){n=u(o/i);let s=t.getNodePosition(r),a=e.getNodePosition(r);return{x:s.x*(1-n)+a.x*n,y:s.y*(1-n)+a.y*n}}function u(t){return t*(2-t)}}var B=i(88),j=i.n(B),U=i(1560),H=i(4747),Z=i.n(H);function X(t){const e=U.Z.from(t),i=e.triangles,n=Z()();t.forEach((t=>{n.addNode(t.id,t)}));for(let o=i.length;o;){--o;const e=t[i[o]];--o;const r=t[i[o]];--o;const s=t[i[o]];Y(e.id,r.id,n),Y(r.id,s.id,n),Y(s.id,e.id,n)}return n}function Y(t,e,i){i.addLink(t,e)}const Q=i(4747);function J(t){const e=Q();t.forEach((t=>{e.addLink(t.from.id,t.to.id)}));const i=t[0].from.id;return{getGraph(){return e},getRootId(){return i},get(t){return e.gentNode(t)}}}class K{constructor(t,e){this.from=t,this.to=e}}function tt(t,e){const i=[];e=e||{};const n=e.canMove||et,o=e.pullX||!1,r=e.pullY||!1;if(t.size<2)return;if(2===t.size){let e=Array.from(t).map((t=>t[1]));return void d(e[0],e[1])}t.forEach((t=>{const e=[t.cx,t.cy];e.id=t.id,i.push(e)}));const s=X(i);s.forEachLink(f);const a=j()(s,(t=>t.data)),u=a.map((t=>new K(c(t.fromId),c(t.toId))));let h;return void(u.length>0&&(h=J(u),l(h)));function c(e){return t.get(e)}function l(t){const e=t.getGraph(),i=new Set;function n(t){if(i.has(t))return;i.add(t);const o=c(t);e.forEachLinkedNode(t,(t=>{if(i.has(t.id))return;const e=c(t.id);d(o,e),n(t.id)}))}n(t.getRootId())}function d(t,e){if(m(t,e)){let i=p(t,e),o=e.cx-t.cx,r=e.cy-t.cy;Number.isFinite(i)||(i=1,o=.001,r=-.001),n(e.id)?(e.cx=t.cx+i*o,e.cy=t.cy+i*r):(t.cx=e.cx-i*o,t.cy=e.cy-i*r)}}function p(t,e){const i=Math.abs(t.cx-e.cx),n=Math.abs(t.cy-e.cy),o=(t.width+e.width)/2,r=(t.height+e.height)/2,s=Math.min(o/i,r/n);return s}function f(t){const e=c(t.fromId),i=c(t.toId),n=g(e,i);t.data=n}function g(t,e){if(m(t,e)){const i=w(t,e),n=p(t,e);return-(n-1)*i}return y(t,e)}function m(t,e){return!!o||(t.left>e.right||e.left>t.right?o:!(t.top>e.bottom||e.top>t.bottom)||r)}function y(t,e){if(m(t,e))return 0;let i=0,n=0;return t.right<e.left?i=e.right-t.left:e.right<t.left&&(i=t.left-e.right),t.top<e.bottom?n=e.bottom-t.top:e.top<t.bottom&&(n=t.bottom-e.top),Math.sqrt(i*i+n*n)}function w(t,e){const i=t.cx-e.cx,n=t.cy-e.cy;return Math.sqrt(i*i+n*n)}}function et(){return!0}class it{constructor(t){if(Object.assign(this,t),!nt(this.left))throw new Error("Left is wrong");if(!nt(this.top))throw new Error("top is wrong");if(!nt(this.width))throw new Error("width is wrong");if(!nt(this.height))throw new Error("height is wrong")}inflate(t){this.left+=t*this.width/2,this.top+=t*this.height/2,this.width*=t,this.height*=t}get right(){return this.left+this.width}get bottom(){return this.top+this.height}get cx(){return this.left+this.width/2}get cy(){return this.top+this.height/2}set cx(t){this.left=t-this.width/2}set cy(t){this.top=t-this.height/2}}function nt(t){return!!Number.isFinite(t)}let ot=i(1610),rt=i(4854);const st=1,at=2,ut=3,ht=4;function ct(t,e){const i=t.maxDepth;let n=q(t),o=A(t),r=W(o,n),s=!1,a=0,u=0,h=2e3,c=2e3,l=st,d=new Map;var p=ot({step:w,pinNode:k,getNodePosition:y,addNode:m,setGraphReady:f,getGraphReady:g});return p;function f(){a=0,u=0,s=!0}function g(){return s}function m(t,e){o.addNode(t,e),d.set(t,e)}function y(t){return l===st||l===ut?o.getNodePosition(t):l===ht?n.getNodePosition(t):l===at?r.getNodePosition(t):void 0}function w(){if(!s||a<h){l=st;let t=window.performance.now();o.step();do{n.step(),a+=1}while(window.performance.now()-t<10);u+=window.performance.now()-t,u>c&&(a=h);const i=Math.min(1,Math.max(u/c,a/h));return x(),e.setLayoutCompletion(Math.round(100*i)),a>=h&&(l=ut),!0}return l===ut?(v(),l=at,!0):l===at&&(r.step(),r.done()&&(l=ht,p.fire("ready",p)),!0)}function x(){t.forEachNode((function(t){var e=n.getNodePosition(t.id);o.setDesiredNodePosition(t.id,e)}))}function v(){let t=b();tt(t),tt(t),tt(t),t.forEach(((t,e)=>{n.setNodePosition(e,t.left-t.dx,t.top-t.dy)}))}function b(){let t=new Map;return d.forEach(((e,i)=>{let o=n.getNodePosition(i),{width:r,height:s}=e;const a=new it({id:i,left:o.x+e.x,top:o.y+e.y,dx:e.x,dy:e.y,width:r,height:s});t.set(i,a)})),t}function k(t){n.pinNode(t,!0)}function q(){return rt(t,{springLength:20,springCoeff:.002,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:14,nodeMass(e){let n=t.getLinks(e),o=n?n.length:1,r=t.getNode(e);return o*=i-r.data.depth+1,e.length*o}})}}let lt=i(6501),dt=i(1857)(42);function pt(t,e,i){const n=new Map;let o=new Map;const r=[];let s=20,a=t.maxDepth;t.forEachLink(p),r.sort(((t,e)=>d(t)-d(e)));let u=requestAnimationFrame(c);return{getLinkInfo:l,dispose:h};function h(){u&&(cancelAnimationFrame(u),u=null)}function c(){while(o.size<s&&r.length>0){let t=r.pop(),e=Math.round(Math.abs(30*dt.gaussian()))+1;o.set(t.id,f(t,e))}o.forEach((function(t,e){t.step(),t.isDone&&o.delete(e)})),(r.length>0||o.size>0)&&(u=requestAnimationFrame(c))}function l(t){return n.get(t)}function d(e){let i=t.getNode(e.fromId).data,n=t.getNode(e.toId).data;const o=(i.depth+n.depth)/2;return(a-o)/a}function p(t){r.push(t)}function f(t,o){var r=0;let s=e.getNodePosition(t.fromId),a=e.getNodePosition(t.toId);const u=d(t),h=8*u+2,c=Math.round(125*(1-u)+75);let l={step:p,isDone:!1};return l;function p(){let e=ft(r/o),u=s.x*(1-e)+a.x*e,d=s.y*(1-e)+a.y*e,p=n.get(t.id),f=`M${s.x},${s.y} L${u},${d}`;if(p)p.ui.attr("d",f);else{const e=lt("path",{class:"link-ui",id:t.id,"stroke-width":h,fill:"black",stroke:`rgb(${c}, ${c}, ${c})`,d:f});i.appendChild(e),n.set(t.id,{ui:e,link:t})}r+=1,r>o&&(l.isDone=!0)}}}function ft(t){return t*(2-t)}var gt=i(2470);function mt(t,e,i=42){let{pointIndex:n,points:o}=s();return{findNearestLink:r,getPoints(){return o}};function r(t,e){const r=n.neighbors(t,e,1);let s=r[0];if(void 0===s)return;let a=o[s];return yt({x:t,y:e},a)<i?a.link:void 0}function s(){let n=i,o=[];t.forEachLink((t=>{let i=e.getNodePosition(t.fromId),r=e.getNodePosition(t.toId),s=yt(i,r),a=r.x-i.x,u=r.y-i.y;a/=s,u/=s;let h={x:i.x,y:i.y,link:t};while(yt(h,i)<s)o.push(h),h={x:h.x+n*a,y:h.y+n*u,link:t};o.push({x:r.x,y:r.y,link:t})}));let r=new gt.Z(o.length),s=.4*n;return o.forEach((t=>{r.add(t.x-s,t.y-s,t.x+s,t.y+s)})),r.finish(),{pointIndex:r,points:o}}}function yt(t,e){let i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}let wt=i(6501);function xt(t){const e=document.querySelector("#scene"),i=e.querySelector("#nodes"),n=e.querySelector("#edges"),o={isVisible:!1},r=document.querySelector("svg"),s=r.createSVGPoint(),a=I()(e),u={left:-500,right:500,top:-500,bottom:500};a.showRectangle(u);let h,c,l,d,p=new Map,f=0,g=_(e);return w.on("graph-ready",N),{render:E,dispose:m};function m(){S(),w.off("graph-ready",N)}function y(t){let e=b(t);e?k(e,t.clientX,t.clientY):q()}function x(t,i){if(!h)return;s.x=t,s.y=i;let n=s.matrixTransform(e.getScreenCTM().inverse()),o=h.findNearestLink(n.x,n.y,30);return o?o.id:void 0}function v(t){let e=b(t);e&&w.fire("show-details",e.link)}function b(t){const e=t.target&&t.target.id;let i=d.getLinkInfo(e);if(!i){let e=x(t.clientX,t.clientY);i=d.getLinkInfo(e)}return i}function k(t,e,i){const{fromId:n,toId:o}=t.link;w.fire("show-tooltip",{isVisible:!0,from:n,to:o,x:e,y:i}),L(),p.get(n).classList.add("hovered"),p.get(o).classList.add("hovered"),t.ui.classList.add("hovered")}function q(){w.fire("show-tooltip",o),L()}function L(){e.querySelectorAll(".hovered").forEach(M)}function M(t){t.classList.remove("hovered")}function E(e){S(),l=e,c=ct(l,t),c.on("ready",D),p=new Map,l.forEachNode(F),l.on("changed",P),cancelAnimationFrame(f),f=requestAnimationFrame(C)}function N(e){e===l&&(c.setGraphReady(),t.startLayout())}function C(){c.step()&&(f=requestAnimationFrame(C)),T()}function P(t){t.forEach((t=>{"add"===t.changeType&&t.node&&F(t.node)}))}function D(){t.done(),d=pt(l,c,n),document.addEventListener("mousemove",y),r.addEventListener("click",v);let e=42;h=mt(l,c,e)}function S(){$(i),$(n),document.removeEventListener("mousemove",y),r.removeEventListener("click",v),c&&c.off("ready",D),l&&l.off("changed",P),d&&d.dispose()}function $(t){while(t.lastChild)t.removeChild(t.lastChild)}function F(t){const e=(l.maxDepth-t.data.depth)/l.maxDepth;let n=O(t.id);0===t.data.depth&&c.pinNode(t);const o=z(t.id,e);c.addNode(t.id,o);const r={x:o.x,y:o.y,width:o.width,height:o.height,rx:o.rx,ry:o.ry,fill:"white","stroke-width":o.strokeWidth,stroke:"#58585A"},s={"font-size":o.fontSize,x:o.px,y:o.py},a=wt("rect",r),u=wt("text",s);u.text(t.id);const h=wt("g",{transform:`translate(${n.x}, ${n.y})`});h.appendChild(a),h.appendChild(u),i.appendChild(h),p.set(t.id,h)}function z(t,e){const i=24*e+12,n=g(t,i),o=n.totalWidth+6*n.spaceWidth,r=1.6*i;return{fontSize:i,width:o,height:r,x:-o/2,y:-r/2,rx:15*e+2,ry:15*e+2,px:-o/2+3*n.spaceWidth,py:-r/2+1.1*i,strokeWidth:4*e+1}}function T(){p.forEach(((t,e)=>{let i=O(e);t.attr("transform",`translate(${i.x}, ${i.y})`)}))}function O(t){return c.getNodePosition(t)}}const vt={class:"about"},bt={class:"content"},kt=(0,o.uE)('<p> Have you ever noticed how Google auto-completes your queries? Like so: <img src="https://i.imgur.com/Dz0crfG.gif" alt="google auto complete demo" width="300px"></p><p>What if we repeat the same query for every suggestion? We will get a bigger picture:</p><img src="https://i.imgur.com/aqzfpBJ.png" alt="Bigger picture with all searches" width="300px"><p>Now let&#39;s repeat this process one more time for every found suggestion. But instead of drawing a picture, let&#39;s draw a line between each suggestion:</p><img src="https://i.imgur.com/OBbEJP7.png" alt="suggestions graph" width="300px"><p>And this is exactly what this website is doing for You.</p><p>I found this technique useful to find alternatives, or to perform a market research. Obviously, for this technique to work, Google needs to know enough about your query. </p><p>I hope you like it! Please let me know.</p><ul><li><a href="https://github.com/anvaka/vs" class="highlight">Read source code</a> of this project on GitHub </li><li> Stay tuned for updates on <a href="https://twitter.com/anvaka" class="highlight">Twitter.</a></li><li><a href="https://www.patreon.com/anvaka" class="highlight">Support me on Patreon</a> . </li></ul><p>With passion,<br> Anvaka</p>',10);function qt(t,e,i,r,s,a){return(0,o.wg)(),(0,o.iD)("div",vt,[(0,o._)("div",{class:"background absolute",onClick:e[0]||(e[0]=(0,n.iM)(((...t)=>a.close&&a.close(...t)),["prevent"]))}),(0,o._)("div",bt,[(0,o._)("h3",null,[(0,o.Uk)("Autocomplete vs Graph "),(0,o._)("a",{class:"close bold highlight",href:"#",onClick:e[1]||(e[1]=(0,n.iM)(((...t)=>a.close&&a.close(...t)),["prevent"]))},"close")]),kt,(0,o._)("a",{href:"#",onClick:e[2]||(e[2]=(0,n.iM)(((...t)=>a.close&&a.close(...t)),["prevent"])),class:"large-close bold highlight"}," close ")])])}var Lt={mounted(){this.closeHandler=t=>{27===t.keyCode&&(t.preventDefault(),this.close())},document.addEventListener("keyup",this.closeHandler)},beforeUnmount(){document.removeEventListener("keyup",this.closeHandler)},methods:{close(){this.$emit("close")}}},Mt=i(89);const Et=(0,Mt.Z)(Lt,[["render",qt]]);var Nt=Et;const Ct=["value","placeholder"],Pt={class:"search-measure",ref:"measure"};function Dt(t,e,i,s,a,u){return(0,o.wg)(),(0,o.iD)("div",{class:"query-input-container",onClick:e[1]||(e[1]=(0,n.iM)(((...t)=>u.focus&&u.focus(...t)),["prevent"]))},[(0,o._)("input",{class:"search-input",value:i.modelValue,onInput:e[0]||(e[0]=e=>t.$emit("update:modelValue",e.target.value)),type:"text",placeholder:i.placeholder,autofocus:"",ref:"input"},null,40,Ct),(0,o._)("span",{type:"text",class:"prefix",ref:"prefix"},(0,r.zw)(u.patternPrefix),513),(0,o._)("span",Pt,null,512),(0,o._)("span",{type:"text",class:"suffix",ref:"suffix"},(0,r.zw)(u.patternReminder),513)])}var St={props:["placeholder","modelValue","pattern"],watch:{modelValue(){this.ensureSuffixPos()}},computed:{patternReminder(){return this.pattern.split("[query]")[1]},patternPrefix(){return this.pattern.split("[query]")[0]}},methods:{focus(){this.$refs.input.focus()},ensureSuffixPos(){const{suffix:t,measure:e,prefix:i}=this.$refs;e.innerText=this.modelValue;let n=this.$refs.measure.getBoundingClientRect();e.innerText=this.patternReminder;let o=e.getBoundingClientRect();e.innerText=this.patternPrefix;let r=e.getBoundingClientRect(),s=this.$el.getBoundingClientRect(),a=s.width-o.width,u=Math.min(r.width+n.width+4,a);0===this.modelValue.length?(t.style.visibility="hidden",i.style.visibility="hidden",this.$refs.input.style.paddingRight="0",this.$refs.input.style.paddingLeft="0"):(t.style.visibility="visible",i.style.visibility="visible",t.style.left=u+"px",i.style.right=r.width+"px",this.$refs.input.style.paddingRight=o.width+"px",this.$refs.input.style.paddingLeft=r.width+"px")}},mounted(){this.ensureSuffixPos()}};const It=(0,Mt.Z)(St,[["render",Dt]]);var $t=It;const Ft=D();var _t={name:"App",data(){return{aboutVisible:!1,appState:D(),tooltip:{text:"",x:"",y:""}}},components:{About:Nt,QueryInput:$t},computed:{isLoading(){return Ft.progress.working}},methods:{forwardFocus(){this.$refs.queryInput.focus()},onSubmit(){if(!Ft.query)return;C(Ft.query),this.renderer.render(Ft.graph);const t=document.querySelector(":focus");t&&t.blur()},showTooltip(t){const e=this.$refs.tooltip;t.isVisible?(e.classList.add("visible"),e.innerText=P(t.from,t.to),e.style.left=t.x+16+"px",e.style.top=t.y-16+"px"):e.classList.remove("visible")},showDetails(t){const e=P(t.fromId,t.toId);window.open("https://google.com/search?q="+encodeURIComponent(e),"_blank")}},mounted(){this.renderer=xt(Ft.progress),w.on("show-tooltip",this.showTooltip,this),w.on("show-details",this.showDetails,this),Ft.graph&&this.renderer.render(Ft.graph)},beforeUnmount(){w.off("show-tooltip",this.showTooltip,this),w.off("show-details",this.showDetails,this)}};const zt=(0,Mt.Z)(_t,[["render",f]]);var Tt=zt;(0,n.ri)(Tt).mount("#app")}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,i),r.exports}i.m=t,function(){var t=[];i.O=function(e,n,o,r){if(!n){var s=1/0;for(c=0;c<t.length;c++){n=t[c][0],o=t[c][1],r=t[c][2];for(var a=!0,u=0;u<n.length;u++)(!1&r||s>=r)&&Object.keys(i.O).every((function(t){return i.O[t](n[u])}))?n.splice(u--,1):(a=!1,r<s&&(s=r));if(a){t.splice(c--,1);var h=o();void 0!==h&&(e=h)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[n,o,r]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,r,s=n[0],a=n[1],u=n[2],h=0;if(s.some((function(e){return 0!==t[e]}))){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(u)var c=u(i)}for(e&&e(n);h<s.length;h++)r=s[h],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(c)},n=self["webpackChunkvs"]=self["webpackChunkvs"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(1161)}));n=i.O(n)})();
//# sourceMappingURL=app.8f520eb8.js.map